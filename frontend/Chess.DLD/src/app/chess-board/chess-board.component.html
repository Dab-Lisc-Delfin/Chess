<!--  -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jaro:opsz@6..72&display=swap" rel="stylesheet">
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
<div class="grid h-screen w-full bg-[#B29CFF]">
    <div class="game-info bg-white text-gray-800 text-center fixed bottom-0 left-0 w-full shadow-md">
        <h2 class="text-2xl font-bold">Room ID: {{ gameId }}</h2>
    </div>
    <div class="row-span-1 text-center w-full h-[60px] bg-[#A58CFF] content-center drop-shadow shadow-top inner-shadow">
        <div class="flex justify-between max-w-[1440px] h-full items-center px-4 m-auto">
            <div class="w-1/3 text-left">
                <img src="/DLD.jpg" class="w-[50px] h-[50px] rounded-[50%] border-[1px] border-[#856F28]">
            </div>
            <div class="w-1/3 text-center">
                <span class="font text-5xl">CHESS</span>
            </div>
            <div class="w-1/3 text-right">
                <span class="font text-lg"><a href="./">logout</a></span>
            </div>
        </div>
        <div class="flex justify-center items-center h-full max-w-[1440px] m-auto">
            <div class="w-[15%] flex flex-col justify-center items-center mt-[42%]">
                <img src="Rook.png" alt="Rook">
                <img src="bishop.webp" alt="bishop">
                <img src="knight.webp" alt="knight">
            </div>
            <div class="w-[70%] flex justify-center m-auto">
                <div class="grid justify-center flex flex-col">
                    <div class="grid-row content-center rounded flex mr-[75px]">

                        <div class="flex flex-col items-center justify-center font1">
                            <div *ngFor="let number of [8, 7, 6, 5, 4, 3, 2, 1]"
                                class="min-w-[75px] min-h-[75px] max-w-[75px]  max-h-[75px] flex items-center justify-end ">
                                <p class="mr-[20px] font-bold">{{ number }}</p>
                            </div>
                        </div>
                        <div class="  border-[3px] border-[#856F28] mt-[20px]">

                            <div class="grid grid-cols-8">
                                <div *ngFor="let square of chessBoard"
                                    class=" min-w-[75px] min-h-[75px] max-w-[75px]  max-h-[75px]  flex items-center justify-center "
                                    [ngClass]="{
                     'hoverWhite': square.color === 'white',
                     'hoverBlack': square.color === 'black',
                     'white': square.color === 'white',
                     'black': square.color === 'black',
                     'highlighted': highlightedSquares.includes(square.square),
                     'checkmate': square.square === checkmateSquare
                 }" (click)="showSquareDetails(square)" (dragover)="allowDrop($event)" (drop)="dropSquare(square)">

                                    <ng-container *ngIf="getPawnOnSquare(square.square) as pawn">
                                        <div class=" text-center min-w-[72px] min-h-[72px]" draggable="true"
                                            (dragstart)="showSquareDetails(square)">
                                            <ng-container *ngIf="getPawnOnSquare(square.square) as pawn">
                                                <img [src]="'/' + (pawn.pawnColor === 'white' ? (pawn.pawnName + 'white.png') : (pawn.pawnName + 'black.png'))"
                                                    alt="{{ pawn.pawnName }}" class="w-full h-full object-contain" />
                                            </ng-container>

                                        </div>
                                    </ng-container>
                                    <div *ngIf="checkmateSquare === square.square" class="checkmate-overlay">
                                        <img src="/King.png" class="king-image">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-9  mr-[75px]">
                        <div class=" flex ">
                            <p></p>
                        </div>
                        <div *ngFor="let square of chessBoard.slice(0, 8)"
                            class="min-w-[75px]  min-h-[75px] max-w-[75px]  max-h-[75px] flex justify-center ">
                            <p class="mt-[1px] font1">{{ square.square.slice(0, 1) | uppercase }}</p>
                        </div>
                    </div>

                    <div *ngIf="!isGameActive"
                        class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50">
                        <div class="bg-white p-6 rounded-lg shadow-lg text-center space-y-4">
                            <h2 class="text-2xl font-bold text-gray-800">Game Finished</h2>
                            <button (click)="resetGame()"
                                class="bg-green-500 text-white font-bold py-2 px-4 rounded hover:bg-green-700">
                                Play again
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ranking-container w-[15%] flex flex-col items-center mt-[30%]">
                <ol class="ranking-list">
                    <li class="ranking-item">
                        <div class="flex justify-between w-full font">
                            <span class="rank-number text-shadow">Ranking</span>
                        </div>
                        <div class="flex justify-between w-full font">
                            <span class="ranking-title text-shadow">1.</span>
                            <span class="ranking-title text-shadow">YOU</span>
                        </div>
                    </li>
                    <li class="ranking-item">
                        <div class="flex justify-between w-full font">
                            <span class="rank-number text-shadow">2.</span>
                            <span class="user-name text-shadow">MAREK</span>
                        </div>
                    </li>
                    <li class="ranking-item">
                        <div class="flex justify-between w-full font">
                            <span class="rank-number text-shadow">3.</span>
                            <span class="user-name text-shadow">JAREK</span>
                        </div>
                    </li>
                    <li class="ranking-item">
                        <div class="flex justify-between w-full font">
                            <span class="rank-number text-shadow">4.</span>
                            <span class="user-name text-shadow">AREK</span>
                        </div>
                    </li>
                    <li class="ranking-item">
                        <div class="flex justify-between w-full font">
                            <span class="rank-number text-shadow">5.</span>
                            <span class="user-name text-shadow">xXxXD123</span>
                        </div>
                    </li>
                    <li class="ranking-item">
                        <div class="flex justify-between w-full font">
                            <span class="rank-number text-shadow">...</span>
                            <span class="user-name text-shadow"></span>
                        </div>
                    </li>
                </ol>
            </div>
        </div>
    </div>
</div>
